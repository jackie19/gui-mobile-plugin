<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1,user-scalable=no" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../src/css/plugin.css" />
</head>
<body>

<span>confirm:</span>
<button type="button" id="test-confirm-text">确认提示框</button>
<br /><br />
<span>confirm:</span>
<input type="text" id="test-confirm-input" placeholder="输入文字">

<br /><br />
<span>datepicker:</span>
<input type="text" id="test-confirm-date" placeholder="">


<script type="text/javascript" src="../libs/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="../libs/iscroll.js"></script>
<script type="text/javascript" src="../src/js/gui.js"></script>
<script type="text/javascript">
    $(function () {

//        二次确认
        $('#test-confirm-text').bind('click touchstart', function () {
            $.mobileConfirm({
                title   : '确认删除',
                content : '<span style="font-size:12px">删除到回收站，是否确认删除？</span>',
                callback: function () {
                    console.log(this.result);
                }
            });
        });


        //输入框
        $('#test-confirm-input').bind('click touchstart', function () {

            var self = this;
            var input = document.createElement('input');
            input.className = 'ui-input-txt';
            input.value = self.value || '';
            $.mobileConfirm({
                title   : '新建文件夹',
                content : function () {
                    this.content.html(input);
                    $('.ui-input-txt', this.content).focus();
                },
                callback: function () {
                    if (this.result) {
                        console.log(input.value);
                        self.value = input.value;
                    }
                }
            });
        });

//        日历选择
        var datePicker;
        $('#test-confirm-date').bind('click touchstart ', function () {

            var self = this,
                    date;
            $.mobileConfirm({

                content : function () {
                    var dt = this;

                    $.mobileDatePicker({
                        setDate       : self.value || new Date(),
                        format        : 'Y-m-d H:i',
                        onBeforeCreate: function () {
                            datePicker = this;
                            dt.content.html(datePicker.html); //set Confirm content Dom
                        },
                        onChange      : function () {
                            date = this.date;
//                        console.log('this.date is ===' + this.date);
//                        console.log('month is ===' + datePicker.getNewDate().getMonth());
                        }
                    });
                },
                callback: function () {
                    if (this.result) {
                        self.value = date || datePicker.date;
                    }
                }
            });
        });

    });
</script>
</body>
</html>